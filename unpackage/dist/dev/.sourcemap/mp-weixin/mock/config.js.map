{"version":3,"file":"config.js","sources":["mock/config.js"],"sourcesContent":["// Mock 配置文件\r\nexport const mockConfig = {\r\n  // 是否启用 mock 服务\r\n  enabled: process.env.NODE_ENV === 'development',\r\n  \r\n  // 基础配置\r\n  base: {\r\n    // 延迟时间（毫秒）\r\n    delay: 300,\r\n    // 是否显示 mock 日志\r\n    showLog: true,\r\n    // 是否模拟网络错误\r\n    simulateError: false,\r\n    // 错误概率（0-1）\r\n    errorRate: 0.1\r\n  },\r\n  \r\n  // 环境配置\r\n  env: {\r\n    development: {\r\n      enabled: true,\r\n      delay: 300,\r\n      showLog: true\r\n    },\r\n    test: {\r\n      enabled: true,\r\n      delay: 100,\r\n      showLog: false\r\n    },\r\n    production: {\r\n      enabled: false,\r\n      delay: 0,\r\n      showLog: false\r\n    }\r\n  },\r\n  \r\n  // API 配置\r\n  api: {\r\n    // 用户相关 API\r\n    user: {\r\n      login: '/api/user/login',\r\n      register: '/api/user/register',\r\n      info: '/api/user/info',\r\n      logout: '/api/user/logout',\r\n      update: '/api/user/update',\r\n      changePassword: '/api/user/change-password'\r\n    },\r\n    \r\n    // 订单相关 API\r\n    order: {\r\n      list: '/api/order/list',\r\n      detail: '/api/order/detail',\r\n      create: '/api/order/create',\r\n      update: '/api/order/update',\r\n      delete: '/api/order/delete'\r\n    },\r\n    \r\n    // 商品相关 API\r\n    product: {\r\n      list: '/api/product/list',\r\n      detail: '/api/product/detail',\r\n      create: '/api/product/create',\r\n      update: '/api/product/update',\r\n      delete: '/api/product/delete'\r\n    }\r\n  }\r\n}\r\n\r\n// 获取当前环境配置\r\nexport const getCurrentMockConfig = () => {\r\n  const env = process.env.NODE_ENV || 'development'\r\n  console.log('[Mock] 当前环境:', env)\r\n  \r\n  // 在小程序环境下，强制启用 mock（开发时）\r\n  const isMiniProgram = typeof wx !== 'undefined' || typeof my !== 'undefined' || typeof swan !== 'undefined'\r\n  const isDev = env === 'development' || isMiniProgram\r\n  \r\n  const config = {\r\n    ...mockConfig.base,\r\n    ...mockConfig.env[env],\r\n    enabled: isDev\r\n  }\r\n  \r\n  console.log('[Mock] 最终配置:', config)\r\n  return config\r\n}\r\n\r\n// 检查是否应该启用 mock\r\nexport const shouldEnableMock = () => {\r\n  const config = getCurrentMockConfig()\r\n  return config.enabled\r\n}\r\n\r\n// 导出默认配置\r\nexport default mockConfig\r\n"],"names":["uni"],"mappings":";;AACO,MAAM,aAAa;AAAA;AAAA,EAExB,SAAS;AAAA;AAAA,EAGT,MAAM;AAAA;AAAA,IAEJ,OAAO;AAAA;AAAA,IAEP,SAAS;AAAA;AAAA,IAET,eAAe;AAAA;AAAA,IAEf,WAAW;AAAA,EACb;AAAA;AAAA,EAGA,KAAK;AAAA,IACH,aAAa;AAAA,MACX,SAAS;AAAA,MACT,OAAO;AAAA,MACP,SAAS;AAAA,IACX;AAAA,IACA,MAAM;AAAA,MACJ,SAAS;AAAA,MACT,OAAO;AAAA,MACP,SAAS;AAAA,IACX;AAAA,IACA,YAAY;AAAA,MACV,SAAS;AAAA,MACT,OAAO;AAAA,MACP,SAAS;AAAA,IACX;AAAA,EACF;AAAA;AAAA,EAGA,KAAK;AAAA;AAAA,IAEH,MAAM;AAAA,MACJ,OAAO;AAAA,MACP,UAAU;AAAA,MACV,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,gBAAgB;AAAA,IAClB;AAAA;AAAA,IAGA,OAAO;AAAA,MACL,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,IACV;AAAA;AAAA,IAGA,SAAS;AAAA,MACP,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,IACV;AAAA,EACF;AACF;AAGO,MAAM,uBAAuB,MAAM;AACxC,QAAM,MAAM;AACZA,gBAAA,2CAAY,gBAAgB,GAAG;AAIzB,QAAA,QAAQ,QAAQ;AAEtB,QAAM,SAAS;AAAA,IACb,GAAG,WAAW;AAAA,IACd,GAAG,WAAW,IAAI,GAAG;AAAA,IACrB,SAAS;AAAA,EAAA;AAGXA,gBAAA,MAAY,MAAA,OAAA,wBAAA,gBAAgB,MAAM;AAC3B,SAAA;AACT;;"}