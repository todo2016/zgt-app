{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"home-container\">\r\n    <!-- 顶部用户信息区域 -->\r\n    <view class=\"user-section\">\r\n      <view class=\"user-info\">\r\n        <image class=\"avatar\" :src=\"userInfo?.avatar || '/static/logo.png'\" mode=\"aspectFill\"></image>\r\n        <view class=\"user-details\">\r\n          <text class=\"username\">{{ userInfo?.username || '用户' }}</text>\r\n          <text class=\"user-role\">{{ userInfo?.role || '普通用户' }}</text>\r\n        </view>\r\n      </view>\r\n      <view class=\"user-actions\">\r\n        <view class=\"action-btn\" @click=\"goToProfile\">\r\n          <text class=\"action-icon\">⚙️</text>\r\n        </view>\r\n        <view class=\"action-btn\" @click=\"handleLogout\">\r\n          <text class=\"action-icon\">🚪</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 统计卡片区域 -->\r\n    <view class=\"stats-section\">\r\n      <view class=\"stats-title\">\r\n        <text class=\"title-text\">数据概览</text>\r\n        <text class=\"title-date\">{{ currentDate }}</text>\r\n      </view>\r\n      <view class=\"stats-grid\">\r\n        <view class=\"stats-card\" v-for=\"(stat, index) in statsData\" :key=\"index\">\r\n          <view class=\"stat-icon\">{{ stat.icon }}</view>\r\n          <view class=\"stat-content\">\r\n            <text class=\"stat-value\">{{ stat.value }}</text>\r\n            <text class=\"stat-label\">{{ stat.label }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 功能模块区域 -->\r\n    <view class=\"modules-section\">\r\n      <view class=\"section-title\">\r\n        <text class=\"title-text\">功能模块</text>\r\n      </view>\r\n      <view class=\"modules-grid\">\r\n        <view \r\n          class=\"module-item\" \r\n          v-for=\"(module, index) in modulesData\" \r\n          :key=\"index\"\r\n          @click=\"handleModuleClick(module)\"\r\n        >\r\n          <view class=\"module-icon\">{{ module.icon }}</view>\r\n          <text class=\"module-name\">{{ module.name }}</text>\r\n          <text class=\"module-desc\">{{ module.description }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 快捷操作区域 -->\r\n    <view class=\"quick-actions\">\r\n      <view class=\"section-title\">\r\n        <text class=\"title-text\">快捷操作</text>\r\n      </view>\r\n      <view class=\"actions-list\">\r\n        <view \r\n          class=\"action-item\" \r\n          v-for=\"(action, index) in quickActions\" \r\n          :key=\"index\"\r\n          @click=\"handleQuickAction(action)\"\r\n        >\r\n          <view class=\"action-icon\">{{ action.icon }}</view>\r\n          <text class=\"action-name\">{{ action.name }}</text>\r\n          <text class=\"action-arrow\">></text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 底部导航提示 -->\r\n    <view class=\"bottom-tip\">\r\n      <text class=\"tip-text\">左右滑动查看更多功能</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useUserStore } from '../../stores/user'\r\n\r\n// 用户store\r\nconst userStore = useUserStore()\r\n\r\n// 响应式数据\r\nconst userInfo = ref(null)\r\nconst currentDate = ref('')\r\n\r\n// 统计数据\r\nconst statsData = ref([\r\n  { icon: '📊', value: '1,234', label: '总订单' },\r\n  { icon: '💰', value: '¥56,789', label: '总收入' },\r\n  { icon: '👥', value: '89', label: '活跃用户' },\r\n  { icon: '📈', value: '+12.5%', label: '增长率' }\r\n])\r\n\r\n// 功能模块\r\nconst modulesData = ref([\r\n  { \r\n    icon: '🛒', \r\n    name: '订单管理', \r\n    description: '查看和管理所有订单',\r\n    path: '/pages/orders/orders'\r\n  },\r\n  { \r\n    icon: '👥', \r\n    name: '用户管理', \r\n    description: '管理用户信息和权限',\r\n    path: '/pages/users/users'\r\n  },\r\n  { \r\n    icon: '📦', \r\n    name: '商品管理', \r\n    description: '管理商品库存和价格',\r\n    path: '/pages/products/products'\r\n  },\r\n  { \r\n    icon: '📊', \r\n    name: '数据统计', \r\n    description: '查看业务数据报表',\r\n    path: '/pages/statistics/statistics'\r\n  },\r\n  { \r\n    icon: '⚙️', \r\n    name: '系统设置', \r\n    description: '配置系统参数',\r\n    path: '/pages/settings/settings'\r\n  },\r\n  { \r\n    icon: '📝', \r\n    name: '日志查看', \r\n    description: '查看系统操作日志',\r\n    path: '/pages/logs/logs'\r\n  }\r\n])\r\n\r\n// 快捷操作\r\nconst quickActions = ref([\r\n  { icon: '➕', name: '新增订单', action: 'addOrder' },\r\n  { icon: '🔍', name: '搜索商品', action: 'searchProduct' },\r\n  { icon: '📱', name: '联系客服', action: 'contactService' },\r\n  { icon: '📋', name: '导出报表', action: 'exportReport' }\r\n])\r\n\r\n// 计算属性\r\nconst isLoggedIn = computed(() => userStore.isLogin)\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n  initPage()\r\n})\r\n\r\n// 页面显示时触发\r\nconst onShow = () => {\r\n  // 每次显示页面时检查登录状态\r\n  if (!isLoggedIn.value) {\r\n    uni.reLaunch({\r\n      url: '/pages/login/login'\r\n    })\r\n    return\r\n  }\r\n  \r\n  // 获取用户信息\r\n  fetchUserInfo()\r\n}\r\n\r\n// 使用 defineExpose 暴露给页面实例\r\ndefineExpose({\r\n  onShow\r\n})\r\n\r\n// 初始化页面\r\nconst initPage = () => {\r\n  // 设置当前日期\r\n  const now = new Date()\r\n  currentDate.value = `${now.getFullYear()}年${now.getMonth() + 1}月${now.getDate()}日`\r\n  \r\n  // 检查登录状态\r\n  if (!isLoggedIn.value) {\r\n    uni.reLaunch({\r\n      url: '/pages/login/login'\r\n    })\r\n    return\r\n  }\r\n  \r\n  // 获取用户信息\r\n  fetchUserInfo()\r\n}\r\n\r\n// 获取用户信息\r\nconst fetchUserInfo = async () => {\r\n  try {\r\n    if (userStore.hasUserInfo) {\r\n      userInfo.value = userStore.userInfo\r\n    } else {\r\n      const data = await userStore.fetchUserInfo()\r\n      userInfo.value = data\r\n    }\r\n  } catch (error) {\r\n    console.error('获取用户信息失败:', error)\r\n    uni.showToast({\r\n      title: '获取用户信息失败',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n// 跳转个人资料\r\nconst goToProfile = () => {\r\n  uni.showToast({\r\n    title: '个人资料功能开发中',\r\n    icon: 'none'\r\n  })\r\n}\r\n\r\n// 处理登出\r\nconst handleLogout = () => {\r\n  uni.showModal({\r\n    title: '确认登出',\r\n    content: '确定要退出登录吗？',\r\n    success: async (res) => {\r\n      if (res.confirm) {\r\n        try {\r\n          await userStore.logout()\r\n          uni.showToast({\r\n            title: '已退出登录',\r\n            icon: 'success'\r\n          })\r\n          \r\n          setTimeout(() => {\r\n            uni.reLaunch({\r\n              url: '/pages/login/login'\r\n            })\r\n          }, 1500)\r\n        } catch (error) {\r\n          console.error('登出失败:', error)\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// 处理模块点击\r\nconst handleModuleClick = (module) => {\r\n  uni.showToast({\r\n    title: `${module.name}功能开发中`,\r\n    icon: 'none'\r\n  })\r\n  \r\n  // 这里可以根据实际需求跳转到对应页面\r\n  // if (module.path) {\r\n  //   uni.navigateTo({\r\n  //     url: module.path\r\n  //   })\r\n  // }\r\n}\r\n\r\n// 处理快捷操作\r\nconst handleQuickAction = (action) => {\r\n  switch (action.action) {\r\n    case 'addOrder':\r\n      uni.showToast({\r\n        title: '新增订单功能开发中',\r\n        icon: 'none'\r\n      })\r\n      break\r\n    case 'searchProduct':\r\n      uni.showToast({\r\n        title: '搜索商品功能开发中',\r\n        icon: 'none'\r\n      })\r\n      break\r\n    case 'contactService':\r\n      uni.showToast({\r\n        title: '客服功能开发中',\r\n        icon: 'none'\r\n      })\r\n      break\r\n    case 'exportReport':\r\n      uni.showToast({\r\n        title: '导出报表功能开发中',\r\n        icon: 'none'\r\n      })\r\n      break\r\n    default:\r\n      break\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.home-container {\r\n  min-height: 100vh;\r\n  background: #f5f6fa;\r\n  padding-bottom: 40rpx;\r\n}\r\n\r\n.user-section {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  padding: 60rpx 40rpx 40rpx;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.avatar {\r\n  width: 120rpx;\r\n  height: 120rpx;\r\n  border-radius: 60rpx;\r\n  margin-right: 30rpx;\r\n  border: 4rpx solid rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.user-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.username {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  color: #ffffff;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.user-role {\r\n  font-size: 24rpx;\r\n  color: rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.user-actions {\r\n  display: flex;\r\n  gap: 20rpx;\r\n}\r\n\r\n.action-btn {\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 40rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.action-icon {\r\n  font-size: 32rpx;\r\n}\r\n\r\n.stats-section {\r\n  margin: -20rpx 40rpx 0;\r\n  background: #ffffff;\r\n  border-radius: 24rpx;\r\n  padding: 40rpx;\r\n  box-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.stats-title {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.title-text {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333333;\r\n}\r\n\r\n.title-date {\r\n  font-size: 24rpx;\r\n  color: #999999;\r\n}\r\n\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 30rpx;\r\n}\r\n\r\n.stats-card {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 30rpx;\r\n  background: #f8f9fa;\r\n  border-radius: 16rpx;\r\n}\r\n\r\n.stat-icon {\r\n  font-size: 48rpx;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.stat-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 24rpx;\r\n  color: #666666;\r\n}\r\n\r\n.modules-section {\r\n  margin: 40rpx;\r\n  background: #ffffff;\r\n  border-radius: 24rpx;\r\n  padding: 40rpx;\r\n  box-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.section-title {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.modules-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 30rpx;\r\n}\r\n\r\n.module-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 40rpx 20rpx;\r\n  background: #f8f9fa;\r\n  border-radius: 16rpx;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.module-item:active {\r\n  transform: scale(0.95);\r\n  background: #e9ecef;\r\n}\r\n\r\n.module-icon {\r\n  font-size: 64rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.module-name {\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  color: #333333;\r\n  margin-bottom: 10rpx;\r\n  text-align: center;\r\n}\r\n\r\n.module-desc {\r\n  font-size: 22rpx;\r\n  color: #666666;\r\n  text-align: center;\r\n  line-height: 1.4;\r\n}\r\n\r\n.quick-actions {\r\n  margin: 0 40rpx;\r\n  background: #ffffff;\r\n  border-radius: 24rpx;\r\n  padding: 40rpx;\r\n  box-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.actions-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.action-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 30rpx 0;\r\n  border-bottom: 2rpx solid #f0f0f0;\r\n  cursor: pointer;\r\n}\r\n\r\n.action-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.action-item:active {\r\n  background: #f8f9fa;\r\n}\r\n\r\n.action-icon {\r\n  font-size: 40rpx;\r\n  margin-right: 30rpx;\r\n}\r\n\r\n.action-name {\r\n  flex: 1;\r\n  font-size: 28rpx;\r\n  color: #333333;\r\n}\r\n\r\n.action-arrow {\r\n  font-size: 24rpx;\r\n  color: #cccccc;\r\n}\r\n\r\n.bottom-tip {\r\n  text-align: center;\r\n  margin-top: 40rpx;\r\n}\r\n\r\n.tip-text {\r\n  font-size: 24rpx;\r\n  color: #999999;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/Users/Administrator/Desktop/shopkeeper6/zgt-app/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","computed","onMounted","uni"],"mappings":";;;;;;AAwFA,UAAM,YAAYA,YAAAA,aAAc;AAGhC,UAAM,WAAWC,cAAG,IAAC,IAAI;AACzB,UAAM,cAAcA,cAAG,IAAC,EAAE;AAG1B,UAAM,YAAYA,cAAAA,IAAI;AAAA,MACpB,EAAE,MAAM,MAAM,OAAO,SAAS,OAAO,MAAO;AAAA,MAC5C,EAAE,MAAM,MAAM,OAAO,WAAW,OAAO,MAAO;AAAA,MAC9C,EAAE,MAAM,MAAM,OAAO,MAAM,OAAO,OAAQ;AAAA,MAC1C,EAAE,MAAM,MAAM,OAAO,UAAU,OAAO,MAAO;AAAA,IAC/C,CAAC;AAGD,UAAM,cAAcA,cAAAA,IAAI;AAAA,MACtB;AAAA,QACE,MAAM;AAAA,QACN,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,MACP;AAAA,MACD;AAAA,QACE,MAAM;AAAA,QACN,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,MACP;AAAA,MACD;AAAA,QACE,MAAM;AAAA,QACN,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,MACP;AAAA,MACD;AAAA,QACE,MAAM;AAAA,QACN,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,MACP;AAAA,MACD;AAAA,QACE,MAAM;AAAA,QACN,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,MACP;AAAA,MACD;AAAA,QACE,MAAM;AAAA,QACN,MAAM;AAAA,QACN,aAAa;AAAA,QACb,MAAM;AAAA,MACP;AAAA,IACH,CAAC;AAGD,UAAM,eAAeA,cAAAA,IAAI;AAAA,MACvB,EAAE,MAAM,KAAK,MAAM,QAAQ,QAAQ,WAAY;AAAA,MAC/C,EAAE,MAAM,MAAM,MAAM,QAAQ,QAAQ,gBAAiB;AAAA,MACrD,EAAE,MAAM,MAAM,MAAM,QAAQ,QAAQ,iBAAkB;AAAA,MACtD,EAAE,MAAM,MAAM,MAAM,QAAQ,QAAQ,eAAgB;AAAA,IACtD,CAAC;AAGD,UAAM,aAAaC,cAAQ,SAAC,MAAM,UAAU,OAAO;AAGnDC,kBAAAA,UAAU,MAAM;AACd,eAAU;AAAA,IACZ,CAAC;AAGD,UAAM,SAAS,MAAM;AAEnB,UAAI,CAAC,WAAW,OAAO;AACrBC,sBAAAA,MAAI,SAAS;AAAA,UACX,KAAK;AAAA,QACX,CAAK;AACD;AAAA,MACD;AAGD,oBAAe;AAAA,IACjB;AAGA,aAAa;AAAA,MACX;AAAA,IACF,CAAC;AAGD,UAAM,WAAW,MAAM;AAErB,YAAM,MAAM,oBAAI,KAAM;AACtB,kBAAY,QAAQ,GAAG,IAAI,YAAW,CAAE,IAAI,IAAI,SAAU,IAAG,CAAC,IAAI,IAAI,QAAO,CAAE;AAG/E,UAAI,CAAC,WAAW,OAAO;AACrBA,sBAAAA,MAAI,SAAS;AAAA,UACX,KAAK;AAAA,QACX,CAAK;AACD;AAAA,MACD;AAGD,oBAAe;AAAA,IACjB;AAGA,UAAM,gBAAgB,YAAY;AAChC,UAAI;AACF,YAAI,UAAU,aAAa;AACzB,mBAAS,QAAQ,UAAU;AAAA,QACjC,OAAW;AACL,gBAAM,OAAO,MAAM,UAAU,cAAe;AAC5C,mBAAS,QAAQ;AAAA,QAClB;AAAA,MACF,SAAQ,OAAO;AACdA,sBAAAA,MAAA,MAAA,SAAA,gCAAc,aAAa,KAAK;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AAAA,MACF;AAAA,IACH;AAGA,UAAM,cAAc,MAAM;AACxBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MACV,CAAG;AAAA,IACH;AAGA,UAAM,eAAe,MAAM;AACzBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,OAAO,QAAQ;AACtB,cAAI,IAAI,SAAS;AACf,gBAAI;AACF,oBAAM,UAAU,OAAQ;AACxBA,4BAAAA,MAAI,UAAU;AAAA,gBACZ,OAAO;AAAA,gBACP,MAAM;AAAA,cAClB,CAAW;AAED,yBAAW,MAAM;AACfA,8BAAAA,MAAI,SAAS;AAAA,kBACX,KAAK;AAAA,gBACnB,CAAa;AAAA,cACF,GAAE,IAAI;AAAA,YACR,SAAQ,OAAO;AACdA,4BAAAA,MAAA,MAAA,SAAA,gCAAc,SAAS,KAAK;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;AAGA,UAAM,oBAAoB,CAAC,WAAW;AACpCA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO,GAAG,OAAO,IAAI;AAAA,QACrB,MAAM;AAAA,MACV,CAAG;AAAA,IAQH;AAGA,UAAM,oBAAoB,CAAC,WAAW;AACpC,cAAQ,OAAO,QAAM;AAAA,QACnB,KAAK;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACd,CAAO;AACD;AAAA,QACF,KAAK;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACd,CAAO;AACD;AAAA,QACF,KAAK;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACd,CAAO;AACD;AAAA,QACF,KAAK;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACd,CAAO;AACD;AAAA,MAGH;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpSA,GAAG,WAAW,eAAe;"}